<?php
/**
* Generated with protoc-gen-php8. DO NOT EDIT!
*/
namespace {{.Namespace}};

{{range .Dependencies -}}
use {{.}};
{{end}}
// @@protoc_insertion_point(message::use_scope)

{{if .IsDeprecated -}}
/**
* @deprecated
*/
{{- end}}
class {{.ClassName}} extends Message
{
    // @@protoc_insertion_point(message::trait_scope)
{{range .Properties}}
    {{- if not .IsOneOf -}}
    {{- if .IsRepeated}}
    /**
    * @var {{.CommentPropertyType}}
    */
    {{- end}}
    protected {{if and (.IsObject) (not .IsEnum) (not .IsMap)}}?{{end}}{{.PropertyType}} ${{.PropertyName}}{{if not .IsEnum}} = {{.PropertyDefault}}{{end}};
    {{end -}}
{{end}}
    public function __construct(?array $data = null) {
        {{- range .Enums}}
        {{if not .IsOneOf -}}$this->{{.PropertyName}} = {{.PropertyType}}::from(0);{{end}}
        {{- end}}
        {{.Metadata.ClassName}}::initOnce();
        parent::__construct($data);
    }
{{range .Properties}}
    {{if and (not .IsMap) (not .IsRepeated) .IsWrapped}}
    /**
    {{- if .IsDeprecated}}
    * @deprecated
    {{- end}}
    * @return {{(.Dependency.FindProperty "value").PropertyType}}|null
    */
    public function get{{.AccessorName}}Unwrapped(): ?{{(.Dependency.FindProperty "value").PropertyType}} {
        return $this->readWrapperValue("{{.Name}}");
    }

    /**
    {{- if .IsDeprecated}}
    * @deprecated
    {{- end}}
    * @return {{$.ClassName}}
    */
    public function set{{.AccessorName}}Unwrapped(?{{(.Dependency.FindProperty "value").PropertyType}} $value): {{$.ClassName}} {
        $this->writeWrapperValue("{{.Name}}", $value);
        return $this;
    }
    {{end}}
    /**
    {{- if .IsDeprecated}}
    * @deprecated
    {{- end}}
    * @return {{.CommentPropertyType}}
    */
    public function get{{.AccessorName}}(): {{.PropertyType}}{{if .IsEnum}}|int{{end}} {
        {{- if .IsEnum}}
        if (debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS, 2)[1]['class'] === "Google\\Protobuf\\Internal\\Message") {
            return {{if .IsOneOf -}}
                (int)$this->readOneof({{.Number}})
            {{- else -}}
                $this->{{.PropertyName}}->value;
            {{- end}};
        }
        {{- end}}
        return {{if .IsOneOf -}}
            {{- if .IsEnum -}}
                {{.PropertyType}}::from((int)$this->readOneof({{.Number}}))
            {{- else -}}
                ({{.PropertyType}})$this->readOneof({{.Number}})
            {{- end -}}
        {{- else -}}
            $this->{{.PropertyName}}
        {{- end}};
    }
    {{if or (and .IsObject (not .IsEnum)) .IsOneOf}}
    /**
    {{- if .IsDeprecated}}
    * @deprecated
    {{- end}}
    * @return bool
    */
    public function has{{.AccessorName}}(): bool {
        {{if .IsOneOf -}}
            return $this->hasOneof({{.Number}});
        {{- else -}}
            return isset($this->{{.PropertyName}});
        {{- end}}
    }
    {{- end}}

    /**
    {{- if .IsDeprecated}}
    * @deprecated
    {{- end}}
    {{- if .IsRepeated}}
    * @param {{.CommentPropertyType}} $value
    * @throws \Exception
    {{- end}}
    * @return {{$.ClassName}}
    */
    public function set{{.AccessorName}}({{.PropertyType}}{{if .IsEnum}}|int{{end}} $value): {{$.ClassName}} {
        {{- if and (.IsRepeated) (not .IsMap)}}
        $value = GPBUtil::checkRepeatedField($value, GPBType::MESSAGE, {{.Type}}::class);
        {{- else if .IsMap}}
        $value = GPBUtil::checkMapField($value, GPBType::{{(.Dependency.FindProperty "key").ProtoType}}, GPBType::{{(.Dependency.FindProperty "value").ProtoType}}{{if (eq (.Dependency.FindProperty "value").ProtoType "MESSAGE")}}, {{.Type}}::class{{end}});
        {{- else if .IsEnum}}
        if (is_int($value)) {
            $value = {{.PropertyType}}::from($value);
        }
        {{- end}}
        {{if .IsOneOf -}}
            $this->writeOneof({{.Number}}, {{if .IsEnum}}$value->value{{else}}$value{{end}})
        {{- else -}}
            $this->{{.PropertyName}} = $value
        {{- end -}};

        return $this;
    }
{{end}}
{{- range .OneOfProperties}}
    public function get{{toCamel .}}(): string {
        return $this->whichOneof('{{.}}');
    }
{{end}}
    // @@protoc_insertion_point(message::class_scope)
}
